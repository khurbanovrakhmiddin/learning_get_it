import 'package:flutter/foundation.dart';import 'package:flutter_mobx/flutter_mobx.dart';import 'package:flutter/material.dart';import 'package:learning_get_it/pages/home/home_store.dart';import 'package:flutter_slidable/flutter_slidable.dart';import 'package:learning_get_it/services/getit_service.dart';class HomePage extends StatelessWidget {  const HomePage({Key? key}) : super(key: key);  @override  Widget build(BuildContext context) {    HomeStore store = locator<HomeStore>()..getAllPost();    return Scaffold(      appBar: AppBar(),      body:  Observer(builder: (context){        store.controller.addListener(() {        if(store.controller.position.pixels.isNegative){        store.getAllPost();        }        });        return Stack(children: [          ListView.builder(            controller: store.controller,            itemCount: store.list.length,            itemBuilder: (context, index) {              if(store.isLoadig){                if(index == 0){                  return  Center(child: CircularProgressIndicator(),);                }              }              return GestureDetector(                onTap: (){                  store.goToDetailPageEdit(context,store.list[index]);                },                child: Slidable(                  startActionPane: ActionPane(                    extentRatio: 0.25,                    motion: const ScrollMotion(),                    children: [                      SlidableAction(                        onPressed: (context) {                          store.goToDetailPageEdit(context,store.list[index]);                        },                        backgroundColor: Colors.green,                        foregroundColor: Colors.white,                        icon: Icons.update,                      ),                    ],                  ),                  endActionPane: ActionPane(                    extentRatio: 0.25,                    motion: const ScrollMotion(),                    children: [                      SlidableAction(                        onPressed: (context) {                          print(store.list[index].userId);                          print(store.list[index].id);                          store.deletePost(store.list[index].id!);                        },                        backgroundColor: Colors.red,                        foregroundColor: Colors.white,                        icon: Icons.delete_outline,                      ),                    ],                  ),                  child: Card(                    elevation: 5,                    child: ListTile(                      title: Text(                        store.list[index].title,                        style: const TextStyle(                          fontSize: 20,                          fontWeight: FontWeight.bold,                          color: Colors.black,                        ),                      ),                      subtitle: Text(                        store.list[index].body,                        style: const TextStyle(                          fontSize: 18,                          fontWeight: FontWeight.w600,                        ),                      ),                    ),                  ),                ),              );            },          ),          Visibility(            visible: store.isLoadig,            child:  Container(alignment: Alignment.center,              color: Colors.white.withOpacity(0.7),        child:         CircularProgressIndicator(),),),        ],);      },),    floatingActionButton: FloatingActionButton(        child: const Icon(Icons.add),        onPressed: () => store.goToDetailPage(context),      ),    );  }}// import 'package:flutter/material.dart';// import 'package:flutter_mobx/flutter_mobx.dart';// import 'package:learning_get_it/models/post.dart';// import 'package:learning_get_it/pages/home/home_store.dart';//// class HomePage extends storelessWidget {//   const HomePage({Key? key}) : super(key: key);////   @override//   Widget build(BuildContext context) {//     HomeStore store = HomeStore()..getAllPost();//     return Scaffold(//       appBar: AppBar(//         title: const Text("All Posts"),//       ),//       body: Observer(//           builder: (context) {//             return ListView.builder(//               itemCount: store.list.length,//               itemBuilder: (context, index) {//                 Post post = store.list[index];////                 return Card(//                   child: ListTile(//                     title: Text(post.title),//                     subtitle: Text(post.body),//                   ),//                 );//               },//             );//           }//       ),////       floatingActionButton: FloatingActionButton(//         child: const Icon(Icons.add),//         onPressed: () => store.goToDetailPage(context),//       ),//     );//   }// }